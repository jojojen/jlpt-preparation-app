<div class="container">
  <button
  [disabled]="disableGenerateQuestionButton || requestLimitReached"
  [class.disabled]="disableGenerateQuestionButton || requestLimitReached"
  (click)="generateQuestion()">
    GPTが問題を生成する
  </button>
  <button
  [disabled]="disableGenerateQuestionButton"
  [class.disabled]="disableGenerateQuestionButton"
  (click)="getQuestionFromCollection()">
    問題集から問題を取得する
  </button>
  <br/>
  <div *ngIf="requestLimitReached" class="limit-reached">
   『GPTが問題を生成する』制限に達しました。お待ちください。
  </div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    <div *ngIf="isLoading" class="loader"></div>
    <div *ngIf="question">
      <p>{{ question }}</p>
      <ol>
        <li *ngFor="let option of options" (click)="selectAnswer(option)" [class.selected]="option.id === selectedAnswer" [class.disabled]="disableOptions">{{ option.text }}</li>
      </ol>
      <button *ngIf="selectedAnswer && !hideSubmitButton" [disabled]="disableSubmitAnswerButton" [class.disabled]="disableSubmitAnswerButton" (click)="submitAnswer()">回答を送信します</button>
      <div *ngIf="isLoading" class="loader"></div>
      <div *ngIf="showAnswer && !isLoading">
        <img [src]="resultImage" alt="Result" />
        <p>{{ resultDescription }}</p>
      </div>
      <app-feedback 
      *ngIf="showFeedbackComponent"
      [isLoading]="isLoading"
      [feedbackSubmitted]="feedbackSubmitted"
      (submitFeedback)="onSubmitFeedback($event)">
      </app-feedback>
    </div>
</div>
<footer class="footer">
  <div class="footer-content">
    <a href="https://www.linkedin.com/in/jenhung-chang/" target="_blank" rel="noopener noreferrer">
      <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn" width="50" height="50" />
    </a>
    <a href="https://www.buymeacoffee.com/jenhungjoce"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=jenhungjoce&button_colour=39c5bb&font_colour=000000&font_family=Inter&outline_colour=000000&coffee_colour=FFDD00" /></a>
    <img
      src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*Jwnwof2PW457fvT6ky7Zpg.png"
      alt="Bitcoin Logo"
      width="50" 
      height="50"
    />
    <p class="footer-text">
      Support with BTC:
      <span class="btc-address-short" id="btcAddress" (click)="copyToClipboard()">bc1qtqrhq43l72eeukmrcw46xe7z5g82ewux2zpnr0</span>
    </p>
  </div>
  <div class="message-container">
    <span class="copy-success-msg" id="copySuccessMsg" style="display: none;">BTC Addr. Copied! Thanks for your donation!</span>
  </div>
</footer>