<div class="container">
  <button
  [disabled]="disableGenerateQuestionButton || requestLimitReached"
  [class.disabled]="disableGenerateQuestionButton || requestLimitReached"
  (click)="generateQuestion()">
    問題を生成する
  </button>
  <div *ngIf="requestLimitReached" class="limit-reached">
    The request limit has been reached.<br>
    Please wait for an hour before trying again.
  </div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    <div *ngIf="isLoading" class="loader"></div>
    <div *ngIf="question">
      <p>{{ question }}</p>
      <ol>
        <li *ngFor="let option of options" (click)="selectAnswer(option)" [class.selected]="option.id === selectedAnswer" [class.disabled]="disableOptions">{{ option.text }}</li>
      </ol>
      <button *ngIf="selectedAnswer && !hideSubmitButton" [disabled]="disableSubmitAnswerButton" [class.disabled]="disableSubmitAnswerButton" (click)="submitAnswer()">回答を送信します</button>
      <div *ngIf="isLoading" class="loader"></div>
      <div *ngIf="showAnswer && !isLoading">
        <img [src]="resultImage" alt="Result" />
        <p>{{ resultDescription }}</p>
      </div>
      <div *ngIf="showAnswer && !isLoading" class="feedback-form">
        <h3>Feedback</h3>
        <label for="feedback">Feedback:</label>
        <select [(ngModel)]="feedback" name="feedback" id="feedback">
          <option value="good">Good</option>
          <option value="bad">Bad</option>
        </select>
        <br />
        <label for="comment">Comment:</label>
        <textarea [(ngModel)]="comment" name="comment" id="comment"></textarea>
        <br />
        <button
        (click)="submitFeedback()"
        [disabled]="disableSubmitFeedbackButton"
        [class.disabled]="disableSubmitFeedbackButton">
          Submit Feedback
        </button>
        <div *ngIf="feedbackSubmitted" class="feedback-success">
          Feedback submitted successfully.
        </div>
      </div>
    </div>
  </div>
